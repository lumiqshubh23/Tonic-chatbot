{"ast":null,"code":"var _jsxFileName = \"/home/shubham/Documents/Personal/my-project/react-app/src/components/ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport FileUpload from './FileUpload';\nimport ChatMessage from './ChatMessage';\nimport { Send, Paperclip, X } from 'lucide-react';\nimport styled from 'styled-components';\nimport toast from 'react-hot-toast';\nimport { fileAPI, chatAPI, chatHistoryAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 105px);\n  background: #f7fafc;\n`;\n\n// FileUploadSection component removed as it's no longer used\n_c = ChatContainer;\nconst ChatSection = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  min-height: 0;\n`;\n_c2 = ChatSection;\nconst MessagesContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n  background: #f7fafc;\n  min-height: 0;\n  max-height: calc(100vh - 200px);\n`;\n_c3 = MessagesContainer;\nconst InputSection = styled.div`\n  padding: 24px;\n  background: white;\n  border-top: 1px solid #e2e8f0;\n  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);\n  position: sticky;\n  bottom: 0;\n  z-index: 10;\n  flex-shrink: 0;\n  transition: all 0.2s ease;\n  min-height: 80px;\n  display: flex;\n  align-items: center;\n`;\n_c4 = InputSection;\nconst InputForm = styled.form`\n  display: flex;\n  gap: 12px;\n  align-items: flex-end;\n  width: 100%;\n  flex: 1;\n`;\n_c5 = InputForm;\nconst TextArea = styled.textarea`\n  flex: 1;\n  padding: 16px 20px;\n  border: 1px solid #e2e8f0;\n  border-radius: 12px;\n  font-size: 16px;\n  font-family: inherit;\n  resize: none;\n  min-height: 60px;\n  max-height: 200px;\n  background: white;\n  transition: all 0.2s ease;\n  overflow-y: auto;\n  line-height: 1.5;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  \n  &:focus {\n    outline: none;\n    border-color: #FF6B35;\n    box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);\n  }\n  \n  &::placeholder {\n    color: #a0aec0;\n  }\n`;\n_c6 = TextArea;\nconst SendButton = styled.button`\n  padding: 16px 24px;\n  background: linear-gradient(135deg, #FF6B35 0%, #e53e3e 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 600;\n  font-size: 14px;\n  min-height: 48px;\n  white-space: nowrap;\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 10px 25px rgba(255, 107, 53, 0.3);\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n_c7 = SendButton;\nconst UploadButton = styled.button`\n  padding: 16px;\n  background: none;\n  border: none;\n  color: #718096;\n  cursor: pointer;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  min-width: 48px;\n  height: 48px;\n  \n  &:hover {\n    background: #f7fafc;\n    color: #FF6B35;\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n_c8 = UploadButton;\nconst UploadInterface = styled.div`\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 12px;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n  margin-bottom: 10px;\n  z-index: 20;\n  animation: slideUp 0.2s ease;\n  \n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n`;\n_c9 = UploadInterface;\nconst UploadHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 20px;\n  border-bottom: 1px solid #e2e8f0;\n`;\n_c0 = UploadHeader;\nconst UploadTitle = styled.h4`\n  color: #2d3748;\n  margin: 0;\n  font-weight: 600;\n  font-size: 16px;\n`;\n_c1 = UploadTitle;\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  color: #718096;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background: #f7fafc;\n    color: #e53e3e;\n  }\n`;\n_c10 = CloseButton;\nconst InputWrapper = styled.div`\n  position: relative;\n  display: flex;\n  gap: 12px;\n  align-items: flex-end;\n  width: 100%;\n`;\n_c11 = InputWrapper;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  color: #718096;\n  \n  h3 {\n    margin-bottom: 12px;\n    color: #4a5568;\n    font-weight: 600;\n  }\n  \n  p {\n    margin-bottom: 20px;\n    font-size: 16px;\n  }\n`;\n_c12 = EmptyState;\nconst LoadingContainer = styled.div`\n  text-align: center;\n  padding: 40px 20px;\n  color: #718096;\n  \n  .spinner {\n    margin: 0 auto 16px auto;\n  }\n  \n  p {\n    font-size: 16px;\n    margin: 0;\n  }\n`;\n_c13 = LoadingContainer;\nconst KnowledgeBaseStatus = styled.div`\n  margin: 20px;\n  padding: 16px;\n  background: white;\n  border-radius: 12px;\n  border: 1px solid #e2e8f0;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n`;\n_c14 = KnowledgeBaseStatus;\nconst StatusHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n`;\n_c15 = StatusHeader;\nconst StatusTitle = styled.h4`\n  color: #2d3748;\n  margin: 0;\n  font-weight: 600;\n  font-size: 16px;\n`;\n_c16 = StatusTitle;\nconst ClearButton = styled.button`\n  padding: 6px 12px;\n  background: #e53e3e;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #c53030;\n  }\n`;\n_c17 = ClearButton;\nconst StatusText = styled.p`\n  color: #718096;\n  margin: 0;\n  font-size: 14px;\n`;\n_c18 = StatusText;\nfunction ChatInterface({\n  currentSessionId,\n  currentSessionData,\n  onSessionChange\n}) {\n  _s();\n  const [userInput, setUserInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [knowledgeBase, setKnowledgeBase] = useState('');\n  const [showFileUpload, setShowFileUpload] = useState(false);\n  const [showUploadInterface, setShowUploadInterface] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [loadingMessages, setLoadingMessages] = useState(false);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  const loadSessionMessages = async () => {\n    if (!currentSessionId) return;\n    try {\n      setLoadingMessages(true);\n      const response = await chatHistoryAPI.getSessionHistory(currentSessionId);\n      if (response.success) {\n        // Convert database messages to the format expected by ChatMessage component\n        const formattedMessages = response.session.messages.map(msg => ({\n          q: msg.question,\n          a: msg.answer,\n          timestamp: msg.timestamp,\n          type: 'ai'\n        }));\n        setMessages(formattedMessages);\n      } else {\n        toast.error('Failed to load session messages');\n      }\n    } catch (error) {\n      console.error('Load session messages error:', error);\n      toast.error('Failed to load session messages');\n    } finally {\n      setLoadingMessages(false);\n    }\n  };\n\n  // Auto-resize textarea function\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      const newHeight = Math.min(textarea.scrollHeight, 200);\n      textarea.style.height = `${newHeight}px`;\n    }\n  };\n\n  // Load messages when session changes\n  useEffect(() => {\n    if (currentSessionId) {\n      loadSessionMessages();\n    } else {\n      setMessages([]);\n    }\n  }, [currentSessionId]);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Adjust textarea height when userInput changes\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [userInput]);\n\n  // Monitor for Chrome extension interference\n  useEffect(() => {\n    const originalFetch = window.fetch;\n    const originalXHROpen = XMLHttpRequest.prototype.open;\n\n    // Monitor fetch requests\n    window.fetch = function (...args) {\n      const url = args[0];\n      if (typeof url === 'string' && url.includes('chrome-extension://')) {\n        var _args$;\n        console.warn('Chrome extension request detected:', {\n          url,\n          method: ((_args$ = args[1]) === null || _args$ === void 0 ? void 0 : _args$.method) || 'GET',\n          timestamp: new Date().toISOString(),\n          stack: new Error().stack\n        });\n      }\n      return originalFetch.apply(this, args);\n    };\n\n    // Monitor XMLHttpRequest\n    XMLHttpRequest.prototype.open = function (method, url, ...args) {\n      if (typeof url === 'string' && url.includes('chrome-extension://')) {\n        console.warn('Chrome extension XMLHttpRequest detected:', {\n          url,\n          method,\n          timestamp: new Date().toISOString(),\n          stack: new Error().stack\n        });\n      }\n      return originalXHROpen.apply(this, [method, url, ...args]);\n    };\n\n    // Cleanup function\n    return () => {\n      window.fetch = originalFetch;\n      XMLHttpRequest.prototype.open = originalXHROpen;\n    };\n  }, []);\n  const handleKeyDown = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  // Add handlers to detect and potentially mitigate Chrome extension interference\n  const handleFocus = e => {\n    // Log focus events to help debug extension issues\n    console.log('TextArea focused', {\n      target: e.target,\n      timestamp: new Date().toISOString(),\n      userAgent: navigator.userAgent\n    });\n  };\n  const handleBlur = e => {\n    // Log blur events to help debug extension issues\n    console.log('TextArea blurred', {\n      target: e.target,\n      timestamp: new Date().toISOString()\n    });\n  };\n  const handleInput = e => {\n    // Prevent potential extension interference by ensuring proper event handling\n    setUserInput(e.target.value);\n    adjustTextareaHeight();\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!userInput.trim() || isLoading || !currentSessionId) return;\n    const question = userInput.trim();\n    setUserInput('');\n    setIsLoading(true);\n\n    // Add user message to local state\n    const userMessage = {\n      q: question,\n      a: '',\n      timestamp: new Date().toLocaleString(),\n      type: 'user'\n    };\n    setMessages(prev => [...prev, userMessage]);\n    try {\n      console.log('Sending message to API:', {\n        question,\n        knowledgeBase: knowledgeBase ? 'Present' : 'Empty',\n        sessionId: currentSessionId,\n        currentSessionName: currentSessionData === null || currentSessionData === void 0 ? void 0 : currentSessionData.session_name\n      });\n\n      // Get AI response from backend\n      const response = await chatAPI.sendMessage(question, knowledgeBase, messages, (currentSessionData === null || currentSessionData === void 0 ? void 0 : currentSessionData.session_name) || 'Default');\n      if (response.success) {\n        var _response$response, _response$tables, _response$plot, _response$plot_code, _response$sources;\n        // Add AI response as a separate message\n        const aiMessage = {\n          q: '',\n          a: response.response,\n          timestamp: response.timestamp,\n          type: 'ai',\n          tables: response.tables || [],\n          plot: response.plot,\n          plot_code: response.plot_code,\n          sources: response.sources\n        };\n\n        // Debug logging\n        console.log('🤖 AI Response received:', {\n          responseLength: (_response$response = response.response) === null || _response$response === void 0 ? void 0 : _response$response.length,\n          tablesCount: ((_response$tables = response.tables) === null || _response$tables === void 0 ? void 0 : _response$tables.length) || 0,\n          hasPlot: !!response.plot,\n          plotLength: ((_response$plot = response.plot) === null || _response$plot === void 0 ? void 0 : _response$plot.length) || 0,\n          hasPlotCode: !!response.plot_code,\n          plotCodeLength: ((_response$plot_code = response.plot_code) === null || _response$plot_code === void 0 ? void 0 : _response$plot_code.length) || 0,\n          sourcesCount: ((_response$sources = response.sources) === null || _response$sources === void 0 ? void 0 : _response$sources.length) || 0\n        });\n\n        // Additional plot debugging\n        if (response.plot) {\n          console.log('🎨 Plot data received:', {\n            plotDataLength: response.plot.length,\n            plotDataPreview: response.plot.substring(0, 100) + '...'\n          });\n        }\n        if (response.plot_code) {\n          console.log('📝 Plot code received:', {\n            plotCodeLength: response.plot_code.length,\n            plotCodePreview: response.plot_code.substring(0, 200) + '...'\n          });\n        }\n        setMessages(prev => [...prev, aiMessage]);\n      } else {\n        toast.error('Failed to get response from AI');\n      }\n    } catch (error) {\n      toast.error('Failed to get response. Please try again.');\n      console.error('Error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleFileUpload = async files => {\n    setIsUploading(true);\n    try {\n      const response = await fileAPI.upload(files);\n      if (response.success) {\n        setKnowledgeBase(response.knowledge_base);\n        toast.success(response.message);\n        setShowUploadInterface(false);\n      } else {\n        toast.error('Failed to process files');\n      }\n    } catch (error) {\n      console.error('File upload error:', error);\n      toast.error('Failed to upload files. Please try again.');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n  const clearKnowledgeBase = () => {\n    setKnowledgeBase('');\n    toast.success('Knowledge base cleared');\n  };\n\n  // This line is no longer needed as we're using the messages state directly\n\n  return /*#__PURE__*/_jsxDEV(ChatContainer, {\n    children: [knowledgeBase && /*#__PURE__*/_jsxDEV(KnowledgeBaseStatus, {\n      children: [/*#__PURE__*/_jsxDEV(StatusHeader, {\n        children: [/*#__PURE__*/_jsxDEV(StatusTitle, {\n          children: \"\\uD83D\\uDCDA Knowledge Base Active\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 541,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ClearButton, {\n          onClick: clearKnowledgeBase,\n          children: \"Clear\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 542,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 540,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StatusText, {\n        children: [\"Knowledge base contains \", knowledgeBase.length, \" characters\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 539,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(ChatSection, {\n      children: [/*#__PURE__*/_jsxDEV(MessagesContainer, {\n        children: [!currentSessionId ? /*#__PURE__*/_jsxDEV(EmptyState, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Welcome to TONIC AI! \\uD83E\\uDD16\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Select a chat session from the sidebar or create a new one to start chatting.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 557,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 555,\n          columnNumber: 13\n        }, this) : loadingMessages ? /*#__PURE__*/_jsxDEV(EmptyState, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\",\n            style: {\n              width: '32px',\n              height: '32px',\n              margin: '0 auto 16px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Loading messages...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 13\n        }, this) : messages.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyState, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Start a New Conversation! \\uD83E\\uDD16\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 566,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: knowledgeBase ? \"Ask a question about your uploaded documents to begin.\" : \"Upload some documents to build your knowledge base, then start asking questions!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 13\n        }, this) : messages.map((message, index) => /*#__PURE__*/_jsxDEV(ChatMessage, {\n          message: message\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 15\n        }, this)), isLoading && /*#__PURE__*/_jsxDEV(LoadingContainer, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\",\n            style: {\n              width: '32px',\n              height: '32px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 582,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Generating response...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 583,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 581,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 553,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(InputSection, {\n        children: /*#__PURE__*/_jsxDEV(InputWrapper, {\n          children: [showUploadInterface && /*#__PURE__*/_jsxDEV(UploadInterface, {\n            children: [/*#__PURE__*/_jsxDEV(UploadHeader, {\n              children: [/*#__PURE__*/_jsxDEV(UploadTitle, {\n                children: \"\\uD83D\\uDCC1 Upload Documents\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CloseButton, {\n                onClick: () => setShowUploadInterface(false),\n                children: /*#__PURE__*/_jsxDEV(X, {\n                  size: 20\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 597,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 596,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(FileUpload, {\n              onFileUpload: handleFileUpload,\n              isUploading: isUploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 600,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 593,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(InputForm, {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(UploadButton, {\n              type: \"button\",\n              onClick: () => setShowUploadInterface(!showUploadInterface),\n              disabled: isLoading,\n              title: \"Upload documents\",\n              children: /*#__PURE__*/_jsxDEV(Paperclip, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n              ref: textareaRef,\n              value: userInput,\n              onChange: handleInput,\n              onFocus: handleFocus,\n              onBlur: handleBlur,\n              onKeyDown: handleKeyDown,\n              placeholder: !currentSessionId ? \"Select a chat session to start messaging...\" : knowledgeBase ? \"Ask me anything about your uploaded documents or any general question...\" : \"Upload documents first to ask questions about them...\",\n              disabled: isLoading\n              // Add attributes to help prevent extension interference\n              ,\n              autoComplete: \"off\",\n              spellCheck: \"false\",\n              \"data-gramm\": \"false\",\n              \"data-gramm_editor\": \"false\",\n              \"data-enable-grammarly\": \"false\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(SendButton, {\n              type: \"submit\",\n              disabled: isLoading || !userInput.trim() || !currentSessionId,\n              children: [isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\",\n                style: {\n                  width: '20px',\n                  height: '20px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(Send, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 640,\n                columnNumber: 19\n              }, this), \"Send\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 591,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 590,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 552,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 537,\n    columnNumber: 5\n  }, this);\n}\n_s(ChatInterface, \"JutaAiq15XdKzP5HT56a5CbA1TE=\");\n_c19 = ChatInterface;\nexport default ChatInterface;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19;\n$RefreshReg$(_c, \"ChatContainer\");\n$RefreshReg$(_c2, \"ChatSection\");\n$RefreshReg$(_c3, \"MessagesContainer\");\n$RefreshReg$(_c4, \"InputSection\");\n$RefreshReg$(_c5, \"InputForm\");\n$RefreshReg$(_c6, \"TextArea\");\n$RefreshReg$(_c7, \"SendButton\");\n$RefreshReg$(_c8, \"UploadButton\");\n$RefreshReg$(_c9, \"UploadInterface\");\n$RefreshReg$(_c0, \"UploadHeader\");\n$RefreshReg$(_c1, \"UploadTitle\");\n$RefreshReg$(_c10, \"CloseButton\");\n$RefreshReg$(_c11, \"InputWrapper\");\n$RefreshReg$(_c12, \"EmptyState\");\n$RefreshReg$(_c13, \"LoadingContainer\");\n$RefreshReg$(_c14, \"KnowledgeBaseStatus\");\n$RefreshReg$(_c15, \"StatusHeader\");\n$RefreshReg$(_c16, \"StatusTitle\");\n$RefreshReg$(_c17, \"ClearButton\");\n$RefreshReg$(_c18, \"StatusText\");\n$RefreshReg$(_c19, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","FileUpload","ChatMessage","Send","Paperclip","X","styled","toast","fileAPI","chatAPI","chatHistoryAPI","jsxDEV","_jsxDEV","ChatContainer","div","_c","ChatSection","_c2","MessagesContainer","_c3","InputSection","_c4","InputForm","form","_c5","TextArea","textarea","_c6","SendButton","button","_c7","UploadButton","_c8","UploadInterface","_c9","UploadHeader","_c0","UploadTitle","h4","_c1","CloseButton","_c10","InputWrapper","_c11","EmptyState","_c12","LoadingContainer","_c13","KnowledgeBaseStatus","_c14","StatusHeader","_c15","StatusTitle","_c16","ClearButton","_c17","StatusText","p","_c18","ChatInterface","currentSessionId","currentSessionData","onSessionChange","_s","userInput","setUserInput","isLoading","setIsLoading","isUploading","setIsUploading","knowledgeBase","setKnowledgeBase","showFileUpload","setShowFileUpload","showUploadInterface","setShowUploadInterface","messages","setMessages","loadingMessages","setLoadingMessages","messagesEndRef","textareaRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","loadSessionMessages","response","getSessionHistory","success","formattedMessages","session","map","msg","q","question","a","answer","timestamp","type","error","console","adjustTextareaHeight","style","height","newHeight","Math","min","scrollHeight","originalFetch","window","fetch","originalXHROpen","XMLHttpRequest","prototype","open","args","url","includes","_args$","warn","method","Date","toISOString","stack","Error","apply","handleKeyDown","e","key","shiftKey","preventDefault","handleSubmit","handleFocus","log","target","userAgent","navigator","handleBlur","handleInput","value","trim","userMessage","toLocaleString","prev","sessionId","currentSessionName","session_name","sendMessage","_response$response","_response$tables","_response$plot","_response$plot_code","_response$sources","aiMessage","tables","plot","plot_code","sources","responseLength","length","tablesCount","hasPlot","plotLength","hasPlotCode","plotCodeLength","sourcesCount","plotDataLength","plotDataPreview","substring","plotCodePreview","handleFileUpload","files","upload","knowledge_base","message","clearKnowledgeBase","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","className","width","margin","index","ref","size","onFileUpload","onSubmit","disabled","title","onChange","onFocus","onBlur","onKeyDown","placeholder","autoComplete","spellCheck","_c19","$RefreshReg$"],"sources":["/home/shubham/Documents/Personal/my-project/react-app/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport FileUpload from './FileUpload';\nimport ChatMessage from './ChatMessage';\nimport { Send, Paperclip, X } from 'lucide-react';\nimport styled from 'styled-components';\nimport toast from 'react-hot-toast';\nimport { fileAPI, chatAPI, chatHistoryAPI } from '../services/api';\n\nconst ChatContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 105px);\n  background: #f7fafc;\n`;\n\n// FileUploadSection component removed as it's no longer used\n\nconst ChatSection = styled.div`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  min-height: 0;\n`;\n\nconst MessagesContainer = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 20px;\n  display: flex;\n  flex-direction: column;\n  gap: 0;\n  background: #f7fafc;\n  min-height: 0;\n  max-height: calc(100vh - 200px);\n`;\n\nconst InputSection = styled.div`\n  padding: 24px;\n  background: white;\n  border-top: 1px solid #e2e8f0;\n  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);\n  position: sticky;\n  bottom: 0;\n  z-index: 10;\n  flex-shrink: 0;\n  transition: all 0.2s ease;\n  min-height: 80px;\n  display: flex;\n  align-items: center;\n`;\n\nconst InputForm = styled.form`\n  display: flex;\n  gap: 12px;\n  align-items: flex-end;\n  width: 100%;\n  flex: 1;\n`;\n\nconst TextArea = styled.textarea`\n  flex: 1;\n  padding: 16px 20px;\n  border: 1px solid #e2e8f0;\n  border-radius: 12px;\n  font-size: 16px;\n  font-family: inherit;\n  resize: none;\n  min-height: 60px;\n  max-height: 200px;\n  background: white;\n  transition: all 0.2s ease;\n  overflow-y: auto;\n  line-height: 1.5;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  \n  &:focus {\n    outline: none;\n    border-color: #FF6B35;\n    box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);\n  }\n  \n  &::placeholder {\n    color: #a0aec0;\n  }\n`;\n\nconst SendButton = styled.button`\n  padding: 16px 24px;\n  background: linear-gradient(135deg, #FF6B35 0%, #e53e3e 100%);\n  color: white;\n  border: none;\n  border-radius: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  font-weight: 600;\n  font-size: 14px;\n  min-height: 48px;\n  white-space: nowrap;\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 10px 25px rgba(255, 107, 53, 0.3);\n  }\n  \n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: none;\n  }\n`;\n\nconst UploadButton = styled.button`\n  padding: 16px;\n  background: none;\n  border: none;\n  color: #718096;\n  cursor: pointer;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all 0.2s ease;\n  min-width: 48px;\n  height: 48px;\n  \n  &:hover {\n    background: #f7fafc;\n    color: #FF6B35;\n  }\n  \n  &:disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n`;\n\nconst UploadInterface = styled.div`\n  position: absolute;\n  bottom: 100%;\n  left: 0;\n  right: 0;\n  background: white;\n  border: 1px solid #e2e8f0;\n  border-radius: 12px;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);\n  margin-bottom: 10px;\n  z-index: 20;\n  animation: slideUp 0.2s ease;\n  \n  @keyframes slideUp {\n    from {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n`;\n\nconst UploadHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px 20px;\n  border-bottom: 1px solid #e2e8f0;\n`;\n\nconst UploadTitle = styled.h4`\n  color: #2d3748;\n  margin: 0;\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  color: #718096;\n  cursor: pointer;\n  padding: 4px;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  \n  &:hover {\n    background: #f7fafc;\n    color: #e53e3e;\n  }\n`;\n\nconst InputWrapper = styled.div`\n  position: relative;\n  display: flex;\n  gap: 12px;\n  align-items: flex-end;\n  width: 100%;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 60px 20px;\n  color: #718096;\n  \n  h3 {\n    margin-bottom: 12px;\n    color: #4a5568;\n    font-weight: 600;\n  }\n  \n  p {\n    margin-bottom: 20px;\n    font-size: 16px;\n  }\n`;\n\nconst LoadingContainer = styled.div`\n  text-align: center;\n  padding: 40px 20px;\n  color: #718096;\n  \n  .spinner {\n    margin: 0 auto 16px auto;\n  }\n  \n  p {\n    font-size: 16px;\n    margin: 0;\n  }\n`;\n\nconst KnowledgeBaseStatus = styled.div`\n  margin: 20px;\n  padding: 16px;\n  background: white;\n  border-radius: 12px;\n  border: 1px solid #e2e8f0;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n`;\n\nconst StatusHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 12px;\n`;\n\nconst StatusTitle = styled.h4`\n  color: #2d3748;\n  margin: 0;\n  font-weight: 600;\n  font-size: 16px;\n`;\n\nconst ClearButton = styled.button`\n  padding: 6px 12px;\n  background: #e53e3e;\n  color: white;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 12px;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: #c53030;\n  }\n`;\n\nconst StatusText = styled.p`\n  color: #718096;\n  margin: 0;\n  font-size: 14px;\n`;\n\nfunction ChatInterface({ currentSessionId, currentSessionData, onSessionChange }) {\n  const [userInput, setUserInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const [knowledgeBase, setKnowledgeBase] = useState('');\n  const [showFileUpload, setShowFileUpload] = useState(false);\n  const [showUploadInterface, setShowUploadInterface] = useState(false);\n  const [messages, setMessages] = useState([]);\n  const [loadingMessages, setLoadingMessages] = useState(false);\n  const messagesEndRef = useRef(null);\n  const textareaRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const loadSessionMessages = async () => {\n    if (!currentSessionId) return;\n    \n    try {\n      setLoadingMessages(true);\n      const response = await chatHistoryAPI.getSessionHistory(currentSessionId);\n      if (response.success) {\n        // Convert database messages to the format expected by ChatMessage component\n        const formattedMessages = response.session.messages.map(msg => ({\n          q: msg.question,\n          a: msg.answer,\n          timestamp: msg.timestamp,\n          type: 'ai'\n        }));\n        setMessages(formattedMessages);\n      } else {\n        toast.error('Failed to load session messages');\n      }\n    } catch (error) {\n      console.error('Load session messages error:', error);\n      toast.error('Failed to load session messages');\n    } finally {\n      setLoadingMessages(false);\n    }\n  };\n\n  // Auto-resize textarea function\n  const adjustTextareaHeight = () => {\n    const textarea = textareaRef.current;\n    if (textarea) {\n      textarea.style.height = 'auto';\n      const newHeight = Math.min(textarea.scrollHeight, 200);\n      textarea.style.height = `${newHeight}px`;\n    }\n  };\n\n  // Load messages when session changes\n  useEffect(() => {\n    if (currentSessionId) {\n      loadSessionMessages();\n    } else {\n      setMessages([]);\n    }\n  }, [currentSessionId]);\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Adjust textarea height when userInput changes\n  useEffect(() => {\n    adjustTextareaHeight();\n  }, [userInput]);\n\n  // Monitor for Chrome extension interference\n  useEffect(() => {\n    const originalFetch = window.fetch;\n    const originalXHROpen = XMLHttpRequest.prototype.open;\n    \n    // Monitor fetch requests\n    window.fetch = function(...args) {\n      const url = args[0];\n      if (typeof url === 'string' && url.includes('chrome-extension://')) {\n        console.warn('Chrome extension request detected:', {\n          url,\n          method: args[1]?.method || 'GET',\n          timestamp: new Date().toISOString(),\n          stack: new Error().stack\n        });\n      }\n      return originalFetch.apply(this, args);\n    };\n    \n    // Monitor XMLHttpRequest\n    XMLHttpRequest.prototype.open = function(method, url, ...args) {\n      if (typeof url === 'string' && url.includes('chrome-extension://')) {\n        console.warn('Chrome extension XMLHttpRequest detected:', {\n          url,\n          method,\n          timestamp: new Date().toISOString(),\n          stack: new Error().stack\n        });\n      }\n      return originalXHROpen.apply(this, [method, url, ...args]);\n    };\n    \n    // Cleanup function\n    return () => {\n      window.fetch = originalFetch;\n      XMLHttpRequest.prototype.open = originalXHROpen;\n    };\n  }, []);\n\n  const handleKeyDown = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSubmit(e);\n    }\n  };\n\n  // Add handlers to detect and potentially mitigate Chrome extension interference\n  const handleFocus = (e) => {\n    // Log focus events to help debug extension issues\n    console.log('TextArea focused', {\n      target: e.target,\n      timestamp: new Date().toISOString(),\n      userAgent: navigator.userAgent\n    });\n  };\n\n  const handleBlur = (e) => {\n    // Log blur events to help debug extension issues\n    console.log('TextArea blurred', {\n      target: e.target,\n      timestamp: new Date().toISOString()\n    });\n  };\n\n  const handleInput = (e) => {\n    // Prevent potential extension interference by ensuring proper event handling\n    setUserInput(e.target.value);\n    adjustTextareaHeight();\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!userInput.trim() || isLoading || !currentSessionId) return;\n\n    const question = userInput.trim();\n    setUserInput('');\n    setIsLoading(true);\n\n    // Add user message to local state\n    const userMessage = {\n      q: question,\n      a: '',\n      timestamp: new Date().toLocaleString(),\n      type: 'user'\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n\n    try {\n      console.log('Sending message to API:', {\n        question,\n        knowledgeBase: knowledgeBase ? 'Present' : 'Empty',\n        sessionId: currentSessionId,\n        currentSessionName: currentSessionData?.session_name\n      });\n      \n      // Get AI response from backend\n      const response = await chatAPI.sendMessage(\n        question, \n        knowledgeBase, \n        messages, \n        currentSessionData?.session_name || 'Default'\n      );\n      \n      if (response.success) {\n        // Add AI response as a separate message\n        const aiMessage = {\n          q: '',\n          a: response.response,\n          timestamp: response.timestamp,\n          type: 'ai',\n          tables: response.tables || [],\n          plot: response.plot,\n          plot_code: response.plot_code,\n          sources: response.sources\n        };\n\n        // Debug logging\n        console.log('🤖 AI Response received:', {\n          responseLength: response.response?.length,\n          tablesCount: response.tables?.length || 0,\n          hasPlot: !!response.plot,\n          plotLength: response.plot?.length || 0,\n          hasPlotCode: !!response.plot_code,\n          plotCodeLength: response.plot_code?.length || 0,\n          sourcesCount: response.sources?.length || 0\n        });\n        \n        // Additional plot debugging\n        if (response.plot) {\n          console.log('🎨 Plot data received:', {\n            plotDataLength: response.plot.length,\n            plotDataPreview: response.plot.substring(0, 100) + '...'\n          });\n        }\n        \n        if (response.plot_code) {\n          console.log('📝 Plot code received:', {\n            plotCodeLength: response.plot_code.length,\n            plotCodePreview: response.plot_code.substring(0, 200) + '...'\n          });\n        }\n\n        setMessages(prev => [...prev, aiMessage]);\n\n      } else {\n        toast.error('Failed to get response from AI');\n      }\n\n    } catch (error) {\n      toast.error('Failed to get response. Please try again.');\n      console.error('Error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleFileUpload = async (files) => {\n    setIsUploading(true);\n    try {\n      const response = await fileAPI.upload(files);\n      if (response.success) {\n        setKnowledgeBase(response.knowledge_base);\n        toast.success(response.message);\n        setShowUploadInterface(false);\n      } else {\n        toast.error('Failed to process files');\n      }\n    } catch (error) {\n      console.error('File upload error:', error);\n      toast.error('Failed to upload files. Please try again.');\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  const clearKnowledgeBase = () => {\n    setKnowledgeBase('');\n    toast.success('Knowledge base cleared');\n  };\n\n  // This line is no longer needed as we're using the messages state directly\n\n  return (\n    <ChatContainer>\n      {knowledgeBase && (\n        <KnowledgeBaseStatus>\n          <StatusHeader>\n            <StatusTitle>📚 Knowledge Base Active</StatusTitle>\n            <ClearButton onClick={clearKnowledgeBase}>\n              Clear\n            </ClearButton>\n          </StatusHeader>\n          <StatusText>\n            Knowledge base contains {knowledgeBase.length} characters\n          </StatusText>\n        </KnowledgeBaseStatus>\n      )}\n\n      <ChatSection>\n        <MessagesContainer>\n          {!currentSessionId ? (\n            <EmptyState>\n              <h3>Welcome to TONIC AI! 🤖</h3>\n              <p>Select a chat session from the sidebar or create a new one to start chatting.</p>\n            </EmptyState>\n          ) : loadingMessages ? (\n            <EmptyState>\n              <div className=\"spinner\" style={{ width: '32px', height: '32px', margin: '0 auto 16px' }}></div>\n              <p>Loading messages...</p>\n            </EmptyState>\n          ) : messages.length === 0 ? (\n            <EmptyState>\n              <h3>Start a New Conversation! 🤖</h3>\n              <p>\n                {knowledgeBase \n                  ? \"Ask a question about your uploaded documents to begin.\"\n                  : \"Upload some documents to build your knowledge base, then start asking questions!\"\n                }\n              </p>\n            </EmptyState>\n          ) : (\n            messages.map((message, index) => (\n              <ChatMessage key={index} message={message} />\n            ))\n          )}\n          \n          {isLoading && (\n            <LoadingContainer>\n              <div className=\"spinner\" style={{ width: '32px', height: '32px' }}></div>\n              <p>Generating response...</p>\n            </LoadingContainer>\n          )}\n          \n          <div ref={messagesEndRef} />\n        </MessagesContainer>\n\n        <InputSection>\n          <InputWrapper>\n            {showUploadInterface && (\n              <UploadInterface>\n                <UploadHeader>\n                  <UploadTitle>📁 Upload Documents</UploadTitle>\n                  <CloseButton onClick={() => setShowUploadInterface(false)}>\n                    <X size={20} />\n                  </CloseButton>\n                </UploadHeader>\n                <FileUpload onFileUpload={handleFileUpload} isUploading={isUploading} />\n              </UploadInterface>\n            )}\n            \n            <InputForm onSubmit={handleSubmit}>\n              <UploadButton\n                type=\"button\"\n                onClick={() => setShowUploadInterface(!showUploadInterface)}\n                disabled={isLoading}\n                title=\"Upload documents\"\n              >\n                <Paperclip size={20} />\n              </UploadButton>\n              \n              <TextArea\n                ref={textareaRef}\n                value={userInput}\n                onChange={handleInput}\n                onFocus={handleFocus}\n                onBlur={handleBlur}\n                onKeyDown={handleKeyDown}\n                placeholder={\n                  !currentSessionId\n                    ? \"Select a chat session to start messaging...\"\n                    : knowledgeBase \n                    ? \"Ask me anything about your uploaded documents or any general question...\"\n                    : \"Upload documents first to ask questions about them...\"\n                }\n                disabled={isLoading}\n                // Add attributes to help prevent extension interference\n                autoComplete=\"off\"\n                spellCheck=\"false\"\n                data-gramm=\"false\"\n                data-gramm_editor=\"false\"\n                data-enable-grammarly=\"false\"\n              />\n              <SendButton type=\"submit\" disabled={isLoading || !userInput.trim() || !currentSessionId}>\n                {isLoading ? (\n                  <div className=\"spinner\" style={{ width: '20px', height: '20px' }}></div>\n                ) : (\n                  <Send size={20} />\n                )}\n                Send\n              </SendButton>\n            </InputForm>\n          </InputWrapper>\n        </InputSection>\n      </ChatSection>\n    </ChatContainer>\n  );\n}\n\nexport default ChatInterface;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,WAAW,MAAM,eAAe;AACvC,SAASC,IAAI,EAAEC,SAAS,EAAEC,CAAC,QAAQ,cAAc;AACjD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAASC,OAAO,EAAEC,OAAO,EAAEC,cAAc,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnE,MAAMC,aAAa,GAAGP,MAAM,CAACQ,GAAG;AAChC;AACA;AACA;AACA;AACA,CAAC;;AAED;AAAAC,EAAA,GAPMF,aAAa;AASnB,MAAMG,WAAW,GAAGV,MAAM,CAACQ,GAAG;AAC9B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GANID,WAAW;AAQjB,MAAME,iBAAiB,GAAGZ,MAAM,CAACQ,GAAG;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACK,GAAA,GAVID,iBAAiB;AAYvB,MAAME,YAAY,GAAGd,MAAM,CAACQ,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACO,GAAA,GAbID,YAAY;AAelB,MAAME,SAAS,GAAGhB,MAAM,CAACiB,IAAI;AAC7B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GANIF,SAAS;AAQf,MAAMG,QAAQ,GAAGnB,MAAM,CAACoB,QAAQ;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GAzBIF,QAAQ;AA2Bd,MAAMG,UAAU,GAAGtB,MAAM,CAACuB,MAAM;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GA1BIF,UAAU;AA4BhB,MAAMG,YAAY,GAAGzB,MAAM,CAACuB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACG,GAAA,GAvBID,YAAY;AAyBlB,MAAME,eAAe,GAAG3B,MAAM,CAACQ,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACoB,GAAA,GAvBID,eAAe;AAyBrB,MAAME,YAAY,GAAG7B,MAAM,CAACQ,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAACsB,GAAA,GANID,YAAY;AAQlB,MAAME,WAAW,GAAG/B,MAAM,CAACgC,EAAE;AAC7B;AACA;AACA;AACA;AACA,CAAC;AAACC,GAAA,GALIF,WAAW;AAOjB,MAAMG,WAAW,GAAGlC,MAAM,CAACuB,MAAM;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACY,IAAA,GAfID,WAAW;AAiBjB,MAAME,YAAY,GAAGpC,MAAM,CAACQ,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC6B,IAAA,GANID,YAAY;AAQlB,MAAME,UAAU,GAAGtC,MAAM,CAACQ,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAAC+B,IAAA,GAfID,UAAU;AAiBhB,MAAME,gBAAgB,GAAGxC,MAAM,CAACQ,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACiC,IAAA,GAbID,gBAAgB;AAetB,MAAME,mBAAmB,GAAG1C,MAAM,CAACQ,GAAG;AACtC;AACA;AACA;AACA;AAC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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}